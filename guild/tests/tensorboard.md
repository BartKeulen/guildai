# TensorBoard

These are stop checks for TensorBoard support.

    >> from guild import tensorboard

We run `guild.tensorboard` as a main module to capture output. This
insulates us from spurious warnings that Google libraries are prone to
log directly to a tty rather than via the Python logging system.

    >>> import guild
    >>> import subprocess

    >>> p = subprocess.Popen(
    ...           [sys.executable, "-m", "guild.tensorboard"],
    ...           env={"PYTHONPATH": guild.__pkgdir__},
    ...           stdout=subprocess.PIPE,
    ...           stderr=subprocess.PIPE)
    >>> out, err = p.communicate()

    >>> p.returncode, err
    (0, ...)

Output generated by `guild.tensorboard` when run as main is JSON
containing TensorBoard info.

    >>> import json
    >>> data = json.loads(out)

    >>> sorted(data)
    ['plugins']

Plugins under Python 2:

    >>> for p in data["plugins"]:
    ...     print(p)  # doctest: +REPORT_UDIFF -PY3
    tensorboard.plugins.core.core_plugin.CorePluginLoader
    tensorboard.plugins.scalar.scalars_plugin.ScalarsPlugin
    tensorboard.plugins.custom_scalar.custom_scalars_plugin.CustomScalarsPlugin
    tensorboard.plugins.image.images_plugin.ImagesPlugin
    tensorboard.plugins.audio.audio_plugin.AudioPlugin
    tensorboard.plugins.debugger.debugger_plugin_loader.DebuggerPluginLoader
    tensorboard.plugins.graph.graphs_plugin.GraphsPlugin
    tensorboard.plugins.distribution.distributions_plugin.DistributionsPlugin
    tensorboard.plugins.histogram.histograms_plugin.HistogramsPlugin
    tensorboard.plugins.text.text_plugin.TextPlugin
    tensorboard.plugins.pr_curve.pr_curves_plugin.PrCurvesPlugin
    tensorboard.plugins.profile.profile_plugin_loader.ProfilePluginLoader
    tensorboard.plugins.beholder.beholder_plugin_loader.BeholderPluginLoader
    tensorboard.plugins.interactive_inference.interactive_inference_plugin_loader.InteractiveInferencePluginLoader
    tensorboard.plugins.hparams.hparams_plugin.HParamsPlugin
    tensorboard.plugins.mesh.mesh_plugin.MeshPlugin
    tensorboard.plugins.projector.projector_plugin.ProjectorPlugin

Plugins under Python 3:

    >>> for p in data["plugins"]:
    ...     print(p)  # doctest: +REPORT_UDIFF -PY2
    tensorboard.plugins.core.core_plugin.CorePluginLoader
    tensorboard.plugins.scalar.scalars_plugin.ScalarsPlugin
    tensorboard.plugins.custom_scalar.custom_scalars_plugin.CustomScalarsPlugin
    tensorboard.default.ExperimentalDebuggerV2Plugin
    tensorboard.plugins.image.images_plugin.ImagesPlugin
    tensorboard.plugins.audio.audio_plugin.AudioPlugin
    tensorboard.plugins.debugger.debugger_plugin_loader.DebuggerPluginLoader
    tensorboard.plugins.graph.graphs_plugin.GraphsPlugin
    tensorboard.plugins.distribution.distributions_plugin.DistributionsPlugin
    tensorboard.plugins.histogram.histograms_plugin.HistogramsPlugin
    tensorboard.plugins.text.text_plugin.TextPlugin
    tensorboard.plugins.pr_curve.pr_curves_plugin.PrCurvesPlugin
    tensorboard.plugins.profile_redirect.profile_redirect_plugin.ProfileRedirectPluginLoader
    tensorboard.plugins.beholder.beholder_plugin_loader.BeholderPluginLoader
    tensorboard.plugins.hparams.hparams_plugin.HParamsPlugin
    tensorboard.plugins.mesh.mesh_plugin.MeshPlugin
    tensorboard.plugins.projector.projector_plugin.ProjectorPlugin
    tensorboard_plugin_wit.wit_plugin_loader.WhatIfToolPluginLoader
